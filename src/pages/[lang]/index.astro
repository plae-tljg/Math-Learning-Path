---
import MathLayout from '../../layouts/MathLayout.astro';
import { getPath } from '../../utils/path';
import { t } from '../../utils/i18n';
import type { Lang } from '../../utils/i18n';

// 定义静态路径
export async function getStaticPaths() {
	return [
		{ params: { lang: 'zh' } },
		{ params: { lang: 'en' } },
	];
}

const { lang } = Astro.params;
const validLang: Lang = (lang === 'en' || lang === 'zh') ? lang : 'zh';
const currentPath = `/${validLang}/`;
---

<MathLayout title={t('common.title', validLang)} lang={validLang} currentPath={currentPath}>
	<article>
		<h1>{t('common.title', validLang)}</h1>
		<p>{t('home.welcome', validLang)}</p>
		
		<h2>{t('home.about', validLang)}</h2>
		<p>{t('home.about-desc', validLang)}</p>
		
		<h2>{t('home.learning-paths', validLang)}</h2>
		<ul>
			<li><a href={getPath(`/${validLang}/algebraic-geometry`)}>{t('nav.algebraic-geometry', validLang)}</a></li>
			<!-- 可以继续添加其他数学分支 -->
		</ul>
	</article>
</MathLayout>

